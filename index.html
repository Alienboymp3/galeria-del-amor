<!DOCTYPE html>
<html lang="es">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>Galer√≠a del Amor</title>
  <link rel="stylesheet" href="estilos.css">
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;1,400&family=Manufacturing+Consent&family=Roboto&display=swap" rel="stylesheet">
</head>

<script>
// Cerrar la imagen si se hace clic fuera de ella o de la frase
  ["click", "touchstart"].forEach(evt => {
    document.getElementById("imagenModal").addEventListener(evt, function (e) {
      const contenido = document.querySelector(".modal-contenido");
// Si se hizo clic FUERA del contenido
      if (!contenido.contains(e.target)) {
        contenido.classList.add("cerrando");
        setTimeout(() => {
          document.getElementById("imagenModal").style.display = "none";
          contenido.classList.remove("cerrando");

          // üîÅ Mostrar el bot√≥n de m√∫sica nuevamente
          document.getElementById("controlMusica").style.display = "block";
        }, 400);
      }
    });
  });

  // üñºÔ∏è Suponiendo que ya tienes una funci√≥n para mostrar la imagen expandida...
  // Aseg√∫rate de ocultar el bot√≥n cuando abras el modal.
  function mostrarImagenExpandida() {
    document.getElementById("imagenModal").style.display = "flex";
    document.getElementById("controlMusica").style.display = "none";
  }
</script>

<body>
  <h1 id="titulo">Galer√≠a del Amor</h1>
  <h2 id="subtitulo" class="typewriter">De: Alienboy üëΩ<br>Para: Kris ‚ô•Ô∏è</h2>
  <audio id="musica" src="https://soundhost.net/wp-content/uploads/2018/11/01-1_4-5_95.mp3" loop></audio>
  <button id="controlMusica">üîàSound</button>
  <div class="galeria" id="galeria"></div>
  <p class="frase-final">
  En cada fotograf√≠a, revivo aquel instante suspendido en el ascensor, donde el tiempo se detuvo y nuestras miradas hablaron m√°s que mil palabras. Este portal no es solo una galer√≠a, es un viaje √≠ntimo por cada piso de nuestro amor, donde cada imagen sube un nivel m√°s en mi coraz√≥n.
  <br><br>
  Feliz primer aniversario mi amor. ‚ô•
  </p>
<!-- Modal combinado para imagen + frase -->
<div id="imagenModal" class="modal">
  <div class="modal-contenido combinado">
    <img id="imagenExpandida" src="" alt="Imagen grande">
    <div id="fraseSuperpuesta" class="frase-superpuesta">
      <p id="frase"><span class="autor">‚Äî Nombre</span></p>
      <span id="cerrarFrase">&times;</span>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>

<script>
  // Esperar 3.1 segundos y luego quitar el cursor
  setTimeout(() => {
    document.querySelector('.typewriter').classList.add('done');
  }, 3100); // un poco m√°s que la duraci√≥n de la animaci√≥n
</script>